---
title: "Lesson 1 â€” Formulate Statistical Investigative Questions"
tutorial:
  id: lesson-1-formulate
  version: 1.0.0
output:
  learnr::tutorial:
    progressive: true
    allow_skip: false
    theme: cerulean
runtime: shiny_prerendered
---

```{r setup, include=FALSE}
library(learnr)
library(shiny)
library(ggplot2)
library(dplyr)
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE)
tutorial_options(exercise.checker = NULL)
```

```{r setup-server, context="server"}
# Server-side context required by shiny_prerendered
NULL
```

```{r}
observeEvent(input$show_ans1, ignoreInit = TRUE, {
updateTextInput(
session,
"rewrite1",
value = "What percentage of students in our class read for at least 30 minutes yesterday?"
)
})

observeEvent(input$clear_ans1, {
updateTextInput(session, "rewrite1", value = "")
})
```


## Big Idea


A **statistical investigative** question anticipates variabilityâ€”that different people/items can yield different valuesâ€”and can be answered with a measurable quantity you can collect (e.g., a count, percent, or average for a defined group and time).

* **Variability**: natural differences in values across people/items or over time (e.g., minutes read, flavors chosen).

* **Measurable quantity**: a clearly defined thing you can count/measure with a unit (e.g., â€œ% of students whoâ€¦â€ or â€œaverage minutes ofâ€¦â€).

In this lesson, weâ€™ll practice telling investigable questions from vague ones, and make our first bar chart.

### Learning objectives

* Tell whether a question is investigable by checking for a measurable quantity, a defined group/time, and expected variability.

* Rewrite a vague question so it specifies what is measured (and unit), who itâ€™s about, and when.

* Produce and label a basic bar chart from a tiny data set.

* Reflect on fairness and bias (especially sampling bias) in question wording and sampling.Identify whether a question is statistical/investigable vs. vague/opinion.


**Warm-up: What makes a statistical question?**

A good statistical question expects **different answers** and defines what we will measure. Some questions are subjective (â€œbestâ€), but we can still study opinions statistically if we measure them (e.g., â€œWhat percent of students say chocolate is their favorite?â€). For example, â€œWhich snack is most popular in our class?â€ is investigable because we can count votes; â€œWhatâ€™s the best snack?â€ is ambiguous unless we define how weâ€™ll measure â€œbest.â€

```{r quiz-warmup, echo=FALSE}
quiz(
  question("Which is *investigable with data*?",
    answer("Whatâ€™s the best candy?", correct = FALSE, message = "This is an opinion question. 'Best' depends on personal taste. Data canâ€™t prove one candy is best for everyone."),
    answer("Which candy is most popular in our class?",correct = TRUE, message = "Nice! We can collect data by surveying classmates and counting votes."
    ),
    answer(
      "Is chocolate good?", correct = FALSE, message = "This is too vague and subjective. 'Good' means different things to different people. We would need to make it measurable."),
    allow_retry = TRUE,
    random_answer_order = TRUE
  )
)

```

---

## Try it: Rewrite a vague question

Rewrite this vague question to make it investigable: **â€œDo people read a lot?â€**
Type your revised question below, then click "Show a sample answer" to compare.

Use this frame if helpful: â€œWhat **percent/number** of **[group] [did X / chose Y]** in **[time frame]**?â€

```{r}
textInput("rewrite1", label = "Your investigable question:")

div(
style = "margin-top: .5rem;",
actionButton("show_ans1", "Show sample answer"),
actionButton("clear_ans1", "Clear", class = "btn btn-link"))

# Reveal panel when button toggled (odd clicks = visible)

conditionalPanel(condition = "input.show_ans1 % 2 == 1",
wellPanel(p("Examples:"),
tags$ul(tags$li("What percentage of students in our class read for at least 30 minutes yesterday?"),
tags$li("What is the average number of minutes students in Grade 7 spent reading last weekend?")
),
p(tags$em("Why they work:"), " both define a measure, a group, and anticipate variability.")
)
)

```


## First Plot (Bar Chart)

Now letâ€™s use a tiny toy dataset to practice a bar chart. Run the code, then try the prompts below.

```{r first-plot, exercise=TRUE}

# Create a small candy dataset
candy <- data.frame(chocolate = c("yes", "no", "yes", "yes", "no"), fruity = c("yes","yes","no","yes","no"))

ggplot(candy, aes(x = chocolate)) +
  geom_bar()
```
---

**ğŸ” Challenge: Tinker with the bar chart and observe what changes.**  
Do these one at a time (run after each edit):

1. Switch `x = chocolate` to `x = fruity`. What changes in the bars?
2. Compare variables: add `fill = chocolate` inside `aes(...)`.
3. Show proportions instead of counts: set `position = "fill"` in `geom_bar(...)`.
4. Optional polish: add `labs(title = "Candy prefs")` and `coord_flip()` at the end.



## Check your understanding

```{r quiz-question, echo=FALSE}
quiz(
question("If you switch x = chocolate to x = fruity *in this dataset*, what happens?",
answer("Weâ€™re counting a different variable, but the yes/no counts happen to be the same here, so the bars look the same (only the x label changes).", correct = TRUE),
answer("Nothing changes because ggplot ignores x.", correct = FALSE),
answer("It becomes a line graph automatically.", correct = FALSE),
allow_retry = TRUE
),
question("What makes chocoalte a *categorical* variable?",
answer("It takes labels like 'yes'/'no' (not numbers).", correct = TRUE),
answer("Itâ€™s measured in minutes.", correct = FALSE),
allow_retry = TRUE,
random_answer_order = TRUE
)
)


```


---

## Ethics Micro-Prompt (2â€“3 sentences)

Consider the question: â€œWhich snack is most popular in our class?â€

**Bias (quick definition)**: a systematic error in how we **sample** or **measure** that pushes results in one direction.

```{r ethics-free, echo=FALSE}
textAreaInput("ethics_txt", "If you only survey friends sitting near you, what sampling bias might that introduce, and how could you reduce it? Write 2â€“3 sentences.", rows = 4)
```

---

## Exit Ticket

1. Which prompt is **not** investigable?

```{r quiz-exit, echo=FALSE}
quiz(
  question("Pick the *non-investigable* question:",
    answer("Is pizza the best lunch?", correct = TRUE),
    answer("What percent of students ate pizza for lunch today?", correct = FALSE),
    answer("How many different lunches were brought today?", correct = FALSE),
    random_answer_order = TRUE
  )
)
```

2. One sentence: how did you change a vague question to make it investigable?
```{r}
textAreaInput("exit_sentence", "Your sentence:", rows = 2, placeholder = "I defined a group, a time frame, and a measurable quantity that varies across students.")
```

